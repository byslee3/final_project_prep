{% extends "layout.html" %}
{% block body %}

    {% if which_run == "initial" %}

        <div class = "my-heading">
            Dress like a rockstar (not a hobo)
        </div>

        <div class = "my-explanation">
            try pairing the items you already own into one of these {{ existing_sets|length }} combinations
        </div>

    {% else %}

        <div class = "my-heading">
            YES! More options
        </div>

        <div class = "my-explanation">
            just like rachel zoe says. <em>"OPTIONS! I need more OPTIONS."</em><br>
            now you can access {{ existing_sets|length }} combinations
        </div>

    {% endif %}


    {% for set in existing_sets %}
        <div class = "my-set">
            {{ set.set_id }}
        </div>
    {% endfor %}

                                    {# JINJA BLOCK COMMENT. PREVIOUSLY USED FOR TESTING.

                                        {% for item in selected_inventory %}
                                            <ul><li>
                                                {{ item.item_id }}
                                            </ul></li>
                                        {% endfor %}
                                    <br>
                                    <br>

                                    Testing things:
                                    Which_run = {{ which_run }}
                                    <br>
                                    <br>
                                    In total, there are {{ all_potential_sets|length }} combinations that you would be able to access.

                                    <br>
                                    <br>

                                    <br>
                                    <br>
                                    For testing purposes:

                                        <ul>
                                        {% for set in existing_sets %}
                                            <li> {{ set }} : {{ set.set_id }} <br>
                                                <ul>
                                                    <li>
                                                        Matching items: 
                                                            {% for item in set.items_matching %}
                                                                {{ item }},
                                                            {% endfor %}
                                                    </li>
                                                    <li>
                                                        Missing items:
                                                            {% for item in set.items_missing %}
                                                                {{ item }},
                                                            {% endfor %}
                                                    </li>
                                                    <li> Total items: {{ set.total_items }} </li>
                                                    <li> Percent match: {{ set.percent_match }} </li>
                                                </ul>
                                            </li>
                                        <br>
                                        {% endfor %}
                                        </ul>

                                    END OF JINJA BLOCK COMMENT #}

    {% if which_run == "initial" %}

        <div class = "my-heading">
            But I want more
        </div>

        <div class = "my-explanation">
            who says shopping can't be a science? you need to allocate your money wisely <br>
            try picking one of the following items and see how it expands your available outfits <br>
            remember, even a $400 pair of shoes can be amortized to a $1 cost per wear
        </div>

    {% else %}

        <div class = "my-heading">
            And more...
        </div>

        <div class = "my-explanation">
            keep going down the path of financial irresponsibility. wait, we meant RESPONSIBILITY. <br>
            nothing could be more fiscally responsible than using algorithms to make cost-effective purchasing decisions.
        </div>

    {% endif %}

    <!-- Grid for suggested items -->

    <form action = "{{  url_for("combinations")  }}" method = "POST">

        {% for group in suggested_items %}

            <div class="row-fluid">
                <div class = "span3">
                    {{ group[0].item_id }}
                    <input type="checkbox" name="{{ group[0].item_id }}" value=1>
                </div>
                <div class = "span3">
                    {{ group[1].item_id }}
                    <input type="checkbox" name="{{ group[1].item_id }}" value=1>
                </div>
                <div class = "span3">
                    {{ group[2].item_id }}
                    <input type="checkbox" name="{{ group[2].item_id }}" value=1>
                </div>
                <div class = "span3">
                    {{ group[3].item_id }}
                    <input type="checkbox" name="{{ group[3].item_id }}" value=1>
                </div>
            </div>

        {% endfor %}

        <div class="my-button">
                <input type="submit" value="what happens if I add these?">
        </div>

    </form>


    <div class="my-footer">
        <a href = "{{  url_for("clear_hypotheticals")  }}">return to original results</a> | 
        <a href = "{{  url_for("clear_inventory")  }}">start over from beginning</a>
    </div>


{% endblock %}












